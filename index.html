<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Minimal Bio + Notes</title>
  <style>
    :root { color-scheme: light; }
    * { box-sizing: border-box; }
    html, body { height: 100%; margin: 0; font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial; }
    body { background: #fafafa; color: #0b0d12; }

    /* Layout */
    .wrap {
      min-height: 100%;
      padding: 28px 22px 40px;
      display: grid;
      grid-template-rows: auto 1fr;
      gap: 22px;
    }

    header {
      display: flex;
      align-items: baseline;
      justify-content: space-between;
      gap: 18px;
      border-bottom: 1px solid rgba(0,0,0,0.08);
      padding-bottom: 14px;
    }
    .bio {
      display: grid;
      gap: 4px;
    }
    .name {
      font-size: 18px;
      font-weight: 650;
      letter-spacing: -0.2px;
      margin: 0;
    }
    .desc {
      margin: 0;
      font-size: 13px;
      color: rgba(0,0,0,0.62);
      line-height: 1.35;
    }
    .meta {
      font-size: 12px;
      color: rgba(0,0,0,0.52);
      white-space: nowrap;
    }

    /* Main */
    main {
      position: relative;
      display: grid;
      place-items: center;
    }

    .note {
      width: min(860px, 94vw);
      height: min(62vh, 520px);
      border-radius: 18px;
      border: 1px solid rgba(0,0,0,0.10);
      background: #fff;
      box-shadow: 0 18px 60px rgba(0,0,0,0.08);
      padding: 16px 16px 14px;
      display: grid;
      grid-template-rows: auto 1fr auto;
      gap: 10px;
    }
    .note label {
      font-size: 12px;
      color: rgba(0,0,0,0.56);
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 10px;
    }
    .note textarea {
      width: 100%;
      height: 100%;
      resize: none;
      border: 0;
      outline: none;
      font-size: 15px;
      line-height: 1.5;
      padding: 6px 2px;
    }
    .hint {
      font-size: 12px;
      color: rgba(0,0,0,0.50);
      display: flex;
      justify-content: space-between;
      gap: 12px;
      flex-wrap: wrap;
    }
    .kbd {
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      font-size: 11px;
      border: 1px solid rgba(0,0,0,0.14);
      background: rgba(0,0,0,0.03);
      padding: 2px 6px;
      border-radius: 8px;
    }

    /* Little yellow runner */
    .runner {
      position: absolute;
      left: 0; top: 0;
      width: 30px; height: 30px;
      transform: translate(-100px, -100px);
      pointer-events: none;
      will-change: transform;
      filter: drop-shadow(0 10px 12px rgba(0,0,0,0.18));
    }

    .man {
      position: absolute;
      inset: 0;
      transform-origin: 50% 60%;
    }

    .head {
      position: absolute;
      width: 14px; height: 14px;
      left: 8px; top: 1px;
      border-radius: 999px;
      background: #ffd400;
      border: 1px solid rgba(0,0,0,0.10);
    }
    .body {
      position: absolute;
      width: 10px; height: 11px;
      left: 10px; top: 13px;
      border-radius: 8px;
      background: #ffd400;
      border: 1px solid rgba(0,0,0,0.10);
    }
    .arm {
      position: absolute;
      width: 9px; height: 3px;
      left: 12px; top: 15px;
      border-radius: 999px;
      background: #ffd400;
      border: 1px solid rgba(0,0,0,0.10);
      transform-origin: 10% 50%;
      transform: rotate(var(--arm, 20deg));
    }
    .leg {
      position: absolute;
      width: 10px; height: 3px;
      left: 10px; top: 22px;
      border-radius: 999px;
      background: #ffd400;
      border: 1px solid rgba(0,0,0,0.10);
      transform-origin: 10% 50%;
    }
    .leg.back { transform: rotate(var(--legBack, -25deg)); opacity: 0.95; }
    .leg.front { transform: rotate(var(--legFront, 25deg)); }

    .bubble {
      position: absolute;
      left: 34px; top: -4px;
      padding: 6px 8px;
      border-radius: 12px;
      font-size: 12px;
      background: rgba(255,255,255,0.92);
      border: 1px solid rgba(0,0,0,0.10);
      color: rgba(0,0,0,0.72);
      transform: translateY(-6px);
      opacity: 0;
      transition: opacity .18s ease, transform .18s ease;
      white-space: nowrap;
    }
    .bubble.on {
      opacity: 1;
      transform: translateY(0);
    }

    /* Reduced motion */
    @media (prefers-reduced-motion: reduce) {
      .runner { display: none; }
    }
  </style>
</head>
<body>
  <div class="wrap" id="stage">
    <header>
      <div class="bio">
        <h1 class="name">Alex â€” Portfolio</h1>
        <p class="desc">ML / DL engineer. Speech + neural networks. Building things, writing things.</p>
      </div>
      <div class="meta">github.io â€¢ minimal</div>
    </header>

    <main>
      <section class="note">
        <label>
          <span>Write something</span>
          <span class="kbd">Ctrl/âŒ˜ + K</span>
        </label>
        <textarea id="note" placeholder="Type hereâ€¦"></textarea>
        <div class="hint">
          <span>Move your cursor â€” the little yellow runner will try to catch it.</span>
          <span>Tip: stop for a second and let him catch you ðŸ™‚</span>
        </div>
      </section>

      <!-- Runner -->
      <div class="runner" id="runner" aria-hidden="true">
        <div class="man" id="man">
          <div class="head"></div>
          <div class="body"></div>
          <div class="arm"></div>
          <div class="leg back"></div>
          <div class="leg front"></div>
        </div>
        <div class="bubble" id="bubble">gotcha!</div>
      </div>
    </main>
  </div>

  <script>
  (() => {
    const stage = document.getElementById("stage");
    const note = document.getElementById("note");
    const runner = document.getElementById("runner");
    const man = document.getElementById("man");
    const bubble = document.getElementById("bubble");

    // Quick focus shortcut
    window.addEventListener("keydown", (e) => {
      const isK = e.key.toLowerCase() === "k";
      if (isK && (e.ctrlKey || e.metaKey)) {
        e.preventDefault();
        note.focus();
      }
    });

    const prefersReducedMotion = window.matchMedia?.("(prefers-reduced-motion: reduce)")?.matches;
    if (prefersReducedMotion) return;

    // Target (cursor) position in page coords
    let target = { x: window.innerWidth * 0.62, y: window.innerHeight * 0.55 };
    let hasPointer = false;

    function setTargetFromEvent(e) {
      hasPointer = true;
      target.x = e.clientX;
      target.y = e.clientY;
    }

    window.addEventListener("pointermove", setTargetFromEvent, { passive: true });
    window.addEventListener("pointerdown", setTargetFromEvent, { passive: true });

    // Runner physics
    const pos = { x: window.innerWidth * 0.25, y: window.innerHeight * 0.70 };
    const vel = { x: 0, y: 0 };

    const cfg = {
      accel: 0.020,      // how aggressively it chases
      maxSpeed: 1.55,    // speed cap (in px/ms)
      friction: 0.86,    // damping
      catchRadius: 16,   // pixels
      orbitPush: 14      // small nudge when caught
    };

    let last = performance.now();
    let caughtAt = 0;

    function clamp(v, a, b) { return Math.max(a, Math.min(b, v)); }

    function animate(now) {
      const dt = clamp(now - last, 8, 24); // ms
      last = now;

      // If there was no pointer interaction yet, drift toward textarea center
      if (!hasPointer) {
        const r = note.getBoundingClientRect();
        target.x = r.left + r.width * 0.72;
        target.y = r.top + r.height * 0.35;
      }

      // Vector to target
      const dx = target.x - pos.x;
      const dy = target.y - pos.y;
      const dist = Math.hypot(dx, dy) || 1;

      // Accelerate toward cursor
      const ax = (dx / dist) * cfg.accel * dt;
      const ay = (dy / dist) * cfg.accel * dt;

      vel.x = (vel.x + ax) * cfg.friction;
      vel.y = (vel.y + ay) * cfg.friction;

      // Limit speed
      const sp = Math.hypot(vel.x, vel.y) || 1;
      const maxV = cfg.maxSpeed * dt;
      if (sp > maxV) {
        vel.x = (vel.x / sp) * maxV;
        vel.y = (vel.y / sp) * maxV;
      }

      pos.x += vel.x;
      pos.y += vel.y;

      // Keep inside viewport a bit
      pos.x = clamp(pos.x, 10, window.innerWidth - 10);
      pos.y = clamp(pos.y, 10, window.innerHeight - 10);

      // Facing direction
      const angle = Math.atan2(dy, dx); // radians
      const flip = (dx < 0) ? -1 : 1;

      // Running cycle depends on speed
      const speed01 = clamp(sp / (maxV + 0.0001), 0, 1);
      const runT = now * (0.010 + speed01 * 0.030);
      const legSwing = Math.sin(runT) * (18 + speed01 * 28);
      const armSwing = Math.sin(runT + Math.PI) * (14 + speed01 * 22);

      man.style.setProperty("--legFront", `${legSwing}deg`);
      man.style.setProperty("--legBack", `${-legSwing}deg`);
      man.style.setProperty("--arm", `${armSwing}deg`);

      // Little bob
      const bob = Math.sin(runT * 0.75) * (1 + speed01 * 1.5);

      // Catch behavior
      if (dist < cfg.catchRadius) {
        if (now - caughtAt > 500) {
          caughtAt = now;
          bubble.classList.add("on");
          setTimeout(() => bubble.classList.remove("on"), 420);

          // Nudge the runner slightly past the cursor so it feels like "tag"
          const nx = (dx / dist) || 0;
          const ny = (dy / dist) || 0;
          pos.x -= nx * cfg.orbitPush;
          pos.y -= ny * cfg.orbitPush;
        }
      }

      // Render runner
      runner.style.transform =
        `translate(${pos.x}px, ${pos.y + bob}px) rotate(${angle}rad) scaleX(${flip})`;

      requestAnimationFrame(animate);
    }

    requestAnimationFrame(animate);
  })();
  </script>
</body>
</html>
